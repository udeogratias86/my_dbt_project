version: 2

models:

  # Customers Dimension
  - name: mrt_dim_customers
    description: "{{ doc('mrt_dim_customers') }}"
    columns:
      - name: customer_id
        description: "Unique business key identifying each customer."
        tests:
          - unique
          - not_null
      - name: customer_first_name
        description: "Customer's first name as recorded in the source system."
      - name: customer_last_name
        description: "Customer's last name as recorded in the source system."
      - name: customer_full_name
        description: "Concatenated full name (first and last name), trimmed and standardized for reporting purposes."
      - name: city
        description: "City where the customer resides."
      - name: state
        description: "State or administrative region of the customer's address."
      - name: zip_code
        description: "Postal or ZIP code of the customer's address."

  # Dates Dimension

  - name: mrt_dim_dates
    description: "{{ doc('mrt_dim_dates') }}"
    columns:
      - name: date
        description: "Calendar date representing the atomic grain of this dimension (YYYY-MM-DD)."
        tests:
          - unique
          - not_null
      - name: year
        description: "Year component of the date, stored as string (e.g., '2025')."
      - name: quarter
        description: "Quarter of the year derived from the date (values between '1' and '4')."
      - name: month
        description: "Month of the year derived from the date (values between '1' and '12')."
      - name: year_month
        description: "Concatenated yearâ€“month identifier (e.g., '2025-11') used for monthly aggregations."

  # Products Dimension
  - name: mrt_dim_products
    description: "{{ doc('mrt_dim_products') }}"
    columns:
      - name: product_id
        description: "Unique product identifier (business key) used across all layers."
        tests:
          - unique
          - not_null
      - name: product_name
        description: "Human-readable name or model name of the product."
      - name: brand_name
        description: "Brand associated with the product (e.g., Trek, Giant)."
      - name: category_name
        description: "Product category or type (e.g., Road, Mountain, Electric)."
      - name: model_year
        description: "Model release year of the product (YYYY)."
      - name: list_price
        description: "Standard unit retail price as listed in the product catalog, in base currency."

  # Stores Dimension
  - name: mrt_dim_stores
    description: "{{ doc('mrt_dim_stores') }}"
    columns:
      - name: store_id
        description: "Unique identifier of the store (business key)."
        tests:
          - unique
          - not_null
      - name: store_name
        description: "Official name of the store as used in business systems."
      - name: store_city
        description: "City where the store operates or is located."
      - name: store_state
        description: "State, province, or administrative region of the store."
      - name: store_zip_code
        description: "Postal or ZIP code associated with the store address."
